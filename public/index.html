<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collaborative Canvas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>ðŸŽ¨ Collaborative Canvas</h1>
                <div class="user-info">
                    <span class="online-indicator"></span>
                    <span id="userCount">0 users online</span>
                </div>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="toolbar">
            <!-- Tools -->
            <div class="tool-group">
                <button id="brushTool" class="tool-btn active" title="Brush">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                    </svg>
                </button>
                <button id="eraserTool" class="tool-btn" title="Eraser">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M20 20H7L3 16l10-10 7 7z"/>
                    </svg>
                </button>
            </div>

            <!-- Colors -->
            <div class="tool-group">
                <label>Color:</label>
                <div class="color-palette">
                    <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                    <button class="color-btn" data-color="#FF0000" style="background: #FF0000;"></button>
                    <button class="color-btn" data-color="#00FF00" style="background: #00FF00;"></button>
                    <button class="color-btn" data-color="#0000FF" style="background: #0000FF;"></button>
                    <button class="color-btn" data-color="#FFFF00" style="background: #FFFF00;"></button>
                    <button class="color-btn" data-color="#FF00FF" style="background: #FF00FF;"></button>
                    <button class="color-btn" data-color="#00FFFF" style="background: #00FFFF;"></button>
                </div>
            </div>

            <!-- Stroke Width -->
            <div class="tool-group">
                <label>Width:</label>
                <input type="range" id="strokeWidth" min="1" max="20" value="3">
                <span id="widthValue">3px</span>
            </div>

            <!-- Undo/Redo -->
            <div class="tool-group">
                <button id="undoBtn" class="tool-btn" title="Undo (Ctrl+Z)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 7v6h6"/>
                        <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"/>
                    </svg>
                </button>
                <button id="redoBtn" class="tool-btn" title="Redo (Ctrl+Y)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M21 7v6h-6"/>
                        <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"/>
                    </svg>
                </button>
            </div>

            <!-- Clear -->
            <button id="clearBtn" class="btn-clear">Clear Canvas</button>
        </div>

        <!-- Canvas Container -->
        <div class="canvas-container">
            <canvas id="canvas"></canvas>
            <div id="cursors"></div>
        </div>

        <!-- Stats Panel -->
        <div class="stats-panel">
            <div class="stat-item">
                <span class="stat-label">Operations:</span>
                <span id="operationCount">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Position:</span>
                <span id="operationPosition">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Latency:</span>
                <span id="latency">-</span>
            </div>
        </div>

        <!-- Users List -->
        <div class="users-list" id="usersList">
            <h3>Active Users</h3>
            <div id="usersContainer"></div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="canvas.js"></script>
    <script src="websocket.js"></script>
    <script src="main.js"></script>
</body>
</html>